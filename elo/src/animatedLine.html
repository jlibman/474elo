<!DOCTYPE html>
<html>
        <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script>
        
<body>
    <h1> The Elo Rating System Explained</h1>
    <p> The algorithm was originally created by Arpad Elo as a way to more accurately evaluate the skills of chess players. 
         The idea is that your Elo rating is derived from your games and your opponents’ ratings. If you have a low rating and win a game against someone with a high rating, your rating would then rise and your opponent’s would then lower.
          With this rating system, users are able to better evaluate their skills across time and their games. This rating system is now used beyond just chess tournaments.
           It is used in professional sports tournaments, League of Legends, and Tinder. 
        </p>
        <script src="https://rawgit.com/jasondavies/d3-cloud/master/build/d3.layout.cloud.js"></script>   
        <script>
                function wordCloud(selector) {
                
                    var fill = d3.scale.category20();
                
                    var svg2 = d3.select(selector).append("svg")
                        .attr("width", 500)
                        .attr("height", 500)
                        .append("g")
                        .attr("transform", "translate(250,250)");
                
                    function draw(words) {
                        var cloud = svg2.selectAll("g text")
                                        .data(words, function(d) { return d.text; })
                        cloud.enter()
                            .append("text")
                            .style("font-family", "Impact")
                            .style("fill", function(d, i) { return fill(i); })
                            .attr("text-anchor", "middle")
                            .attr('font-size', 1)
                            .text(function(d) { return d.text; });
                
                        cloud
                            .transition()
                                .duration(600)
                                .style("font-size", function(d) { return d.size + "px"; })
                                .attr("transform", function(d) {
                                    return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                                })
                                .style("fill-opacity", 1);
                
                        cloud.exit()
                            .transition()
                                .duration(200)
                                .style('fill-opacity', 1e-6)
                                .attr('font-size', 1)
                                .remove();
                    }
                    return {
                        update: function(words) {
                            d3.layout.cloud().size([500, 500])
                                .words(words)
                                .padding(5)
                                .rotate(function() { return ~~(Math.random() * 2) * 90; })
                                .font("Impact")
                                .fontSize(function(d) { return d.size; })
                                .on("end", draw)
                                .start();
                        }
                    }
                
                }
                
                var words = [
                    "Chess LeagueOfLegends Football Basketball Baseball Scrabble BoardGames Tinder"
                ]
                
                function getWords(i) {
                    return words[i]
                            .replace(/[!\.,:;\?]/g, '')
                            .split(' ')
                            .map(function(d) {
                                return {text: d, size: 10 + Math.random() * 60};
                            })
                }
                
                function showNewWords(vis, i) {
                    i = i || 0;
                
                    vis.update(getWords(i ++ % words.length))
                    setTimeout(function() { showNewWords(vis, i + 1)}, 2000)
                }
                
                var myWordCloud = wordCloud('body');
                showNewWords(myWordCloud);
                
                
                </script>

    <h2> Elo in context </h2>
    Tinder’s implementation of the Elo Rating System in their algorithm is what initially intrigued us since we are building a dating app for our Capstone project.
    Tinder uses the Elo Rating System to customize their application to each of their users. Each user is initially shown other users at around the same rating because they believe that each of these other users are good potentially 
   
    <h1> Play around with how your Elo Rating changes </h1>

    <div>
    <label>
      My current rating:
      <input type="text" ng-model="myRating" oninput="calculateNewRating()">
    </label>
  </div>
  <div>
    <label>
      Opponent's rating:
      <input type="text" ng-model="opponentRating" oninput="calculateNewRating()">
    </label>
  </div>
  
  <div>
    Game result:
    <div>
      <label>
        <input type="radio" value="1" ng-model="gameResult" oninput="calculateNewRating()">
        I won
      </label>
    </div>
    <div>
      <label>
        <input type="radio" value="0" ng-model="gameResult" oninput="calculateNewRating()">
        I lost
      </label>
    </div>
    <button onclick="myFunction()">Submit</button>

    <script>
        document.getElementById("myInput").oninput = function() {myFunction()};

        function myFunction() {
            document.getElementById("demo").innerHTML = "Your new rating is 1192 and rating delta is -8 ";
        }
    </script>


    <p id="demo"></p>

  <div id="line"></div>​
  <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.5.0"></script>
  <script type="text/javascript">
    var w = 700;
    var h = 300;

    var svg = d3.select("#line")
      .append("svg")
      .attr("width", w)
      .attr("height", h)
      .attr("id", "visualization")
      .attr("xmlns", "http://www.w3.org/2000/svg");

    var data = d3.range(11).map(function(){return Math.random()*10})
    var x = d3.scale.linear().domain([0, 10]).range([0, 700]);
    var y = d3.scale.linear().domain([0, 10]).range([10, 290]);
    var line = d3.svg.line()
      .interpolate("cardinal")
      .x(function(d,i) {return x(i);})
      .y(function(d) {return y(d);})

    var path = svg.append("path")
      .attr("d", line(data))
      .attr("stroke", "steelblue")
      .attr("stroke-width", "2")
      .attr("fill", "none");

    var totalLength = path.node().getTotalLength();

    path
      .attr("stroke-dasharray", totalLength + " " + totalLength)
      .attr("stroke-dashoffset", totalLength)
      .transition()
        .duration(2000)
        .ease("linear")
        .attr("stroke-dashoffset", 0);

    svg.on("click", function(){
      path      
        .transition()
        .duration(2000)
        .ease("linear")
        .attr("stroke-dashoffset", totalLength);
    })

  </script>
</body>
</html>
